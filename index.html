<!DOCTYPE html>
<html lang="en">
<head>
    <!-- PWA Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poll Pay - Get Paid for Surveys</title>
    <meta name="description" content="Complete surveys and earn money. Install Poll Pay on your device.">
    <meta name="theme-color" content="#4a6cfa">
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Poll Pay">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💰</text></svg>">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6cfa;
            --secondary: #ff6b6b;
            --success: #28a745;
            --warning: #ffc107;
            --dark: #2c3e50;
            --light: #f8f9fa;
            --gray: #6c757d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
            -webkit-tap-highlight-color: transparent;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Install Prompt */
        .install-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 15px;
            max-width: 400px;
            width: 90%;
        }
        
        .install-prompt.active {
            display: flex;
        }
        
        .install-icon {
            font-size: 24px;
            color: var(--primary);
        }
        
        .install-text {
            flex: 1;
        }
        
        .install-text h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .install-text p {
            font-size: 14px;
            color: var(--gray);
        }
        
        .install-actions {
            display: flex;
            gap: 10px;
        }
        
        .install-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .install-btn.secondary {
            background: transparent;
            color: var(--gray);
        }
        
        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 25px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .balance {
            background-color: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            margin-right: 15px;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Main Content */
        .main-content {
            padding: 30px 0;
            min-height: calc(100vh - 150px);
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .page-header {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .page-title {
            font-size: 32px;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .page-subtitle {
            color: var(--gray);
            font-size: 18px;
        }
        
        /* Dashboard */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .stat-card .value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .surveys-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .survey-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .survey-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        .survey-header {
            padding: 15px;
            background-color: var(--primary);
            color: white;
        }
        
        .survey-title {
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .survey-reward {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .survey-body {
            padding: 15px;
        }
        
        .survey-description {
            margin-bottom: 15px;
            color: var(--gray);
            font-size: 14px;
        }
        
        .survey-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #3a5ce5;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-success {
            background-color: var(--success);
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }
        
        .btn-warning:hover {
            background-color: #e0a800;
        }
        
        /* Install Button */
        .install-app-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            z-index: 999;
        }
        
        .install-app-btn.active {
            display: flex;
        }
        
        /* Survey Page */
        .survey-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .survey-progress {
            height: 8px;
            background-color: #e9ecef;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .survey-progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.5s;
        }
        
        .survey-question {
            margin-bottom: 30px;
        }
        
        .question-text {
            font-size: 20px;
            margin-bottom: 20px;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            padding: 15px;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        .option:hover {
            background-color: #f8f9fa;
        }
        
        .option.selected {
            background-color: #e7f1ff;
            border-color: var(--primary);
        }
        
        .survey-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        /* Upgrade Page */
        .plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .plan-card {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
        }
        
        .plan-card.popular::before {
            content: "MOST POPULAR";
            position: absolute;
            top: 15px;
            right: -30px;
            background-color: var(--secondary);
            color: white;
            padding: 5px 30px;
            font-size: 12px;
            font-weight: 600;
            transform: rotate(45deg);
        }
        
        .plan-name {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .plan-price {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .plan-features {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .plan-features li {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .plan-features li:last-child {
            border-bottom: none;
        }
        
        /* Payment Modal */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .payment-modal.active {
            display: flex;
        }
        
        .payment-container {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .payment-title {
            font-size: 24px;
            color: var(--dark);
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .payment-method {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-method:hover {
            border-color: var(--primary);
        }
        
        .payment-method.selected {
            border-color: var(--primary);
            background-color: #e7f1ff;
        }
        
        .payment-method.recommended {
            border-color: var(--success);
            position: relative;
        }
        
        .payment-method.recommended::before {
            content: "RECOMMENDED";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--success);
            color: white;
            padding: 2px 10px;
            font-size: 10px;
            border-radius: 10px;
        }
        
        .method-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .method-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .method-desc {
            font-size: 12px;
            color: var(--gray);
        }
        
        .payment-details {
            display: none;
        }
        
        .payment-details.active {
            display: block;
        }
        
        .loading-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .loading-screen.active {
            display: flex;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 18px;
            color: var(--dark);
        }
        
        /* Withdraw Page */
        .withdraw-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .withdraw-info {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .withdraw-amount {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .withdraw-minimum {
            color: var(--gray);
            font-size: 14px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .withdraw-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .method {
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .method.selected {
            border-color: var(--primary);
            background-color: #e7f1ff;
        }
        
        /* Profile Page */
        .profile-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
            margin-right: 20px;
        }
        
        .profile-info h2 {
            margin-bottom: 5px;
        }
        
        .profile-info p {
            color: var(--gray);
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .profile-stat {
            text-align: center;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        .profile-stat .value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .profile-stat .label {
            font-size: 14px;
            color: var(--gray);
        }
        
        /* Chat Page */
        .chat-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .chat-header {
            background-color: var(--primary);
            color: white;
            padding: 15px 20px;
        }
        
        .chat-messages {
            height: 400px;
            padding: 20px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
            max-width: 80%;
        }
        
        .message.user {
            margin-left: auto;
        }
        
        .message-content {
            padding: 10px 15px;
            border-radius: 18px;
            background-color: #f1f1f1;
        }
        
        .message.user .message-content {
            background-color: var(--primary);
            color: white;
        }
        
        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #e9ecef;
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #e9ecef;
            border-radius: 25px;
            margin-right: 10px;
        }
        
        /* Login/Register Page */
        .auth-container {
            max-width: 500px;
            margin: 50px auto;
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            transition: color 0.3s;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        /* Payment Notifications */
        .payment-notifications {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 300px;
            z-index: 1000;
        }
        
        .payment-notification {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--success);
            animation: slideIn 0.5s ease-out;
        }
        
        .payment-notification .user {
            font-weight: 600;
            color: var(--primary);
        }
        
        .payment-notification .amount {
            font-weight: 700;
            color: var(--success);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 30px 0;
            text-align: center;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            list-style: none;
            margin-bottom: 20px;
        }
        
        .footer-links li {
            margin: 0 15px;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        .copyright {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
            }
            
            .nav-links {
                margin-top: 15px;
            }
            
            .nav-links li {
                margin: 0 10px;
            }
            
            .user-info {
                margin-top: 15px;
            }
            
            .page-title {
                font-size: 24px;
            }
            
            .payment-notifications {
                width: 250px;
                right: 10px;
            }
            
            .install-prompt {
                flex-direction: column;
                text-align: center;
            }
            
            .install-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <!-- Install Prompt -->
    <div class="install-prompt" id="install-prompt">
        <div class="install-icon">
            <i class="fas fa-download"></i>
        </div>
        <div class="install-text">
            <h3>Install Poll Pay</h3>
            <p>Get the app experience and work offline</p>
        </div>
        <div class="install-actions">
            <button class="install-btn secondary" id="install-later">Later</button>
            <button class="install-btn" id="install-now">Install</button>
        </div>
    </div>

    <!-- Install App Button -->
    <button class="install-app-btn" id="install-app-btn" title="Install App">
        <i class="fas fa-download"></i>
    </button>

    <!-- Payment Notifications -->
    <div class="payment-notifications" id="payment-notifications"></div>

    <!-- Payment Modal -->
    <div class="payment-modal" id="payment-modal">
        <div class="payment-container">
            <div class="payment-header">
                <h2 class="payment-title" id="payment-title">Upgrade to Premium</h2>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            
            <div class="payment-methods">
                <div class="payment-method recommended" data-method="mpesa">
                    <div class="method-icon">📱</div>
                    <div class="method-name">M-Pesa</div>
                    <div class="method-desc">Instant & Secure</div>
                </div>
                <div class="payment-method" data-method="card">
                    <div class="method-icon">💳</div>
                    <div class="method-name">Credit/Debit Card</div>
                    <div class="method-desc">Visa, Mastercard</div>
                </div>
                <div class="payment-method" data-method="paypal">
                    <div class="method-icon">🌐</div>
                    <div class="method-name">PayPal</div>
                    <div class="method-desc">International</div>
                </div>
            </div>
            
            <!-- M-Pesa Payment Details -->
            <div class="payment-details" id="mpesa-details">
                <div class="form-group">
                    <label for="mpesa-phone">M-Pesa Phone Number</label>
                    <input type="tel" id="mpesa-phone" class="form-control" placeholder="07XX XXX XXX" required>
                </div>
                
                <div class="form-group">
                    <label for="mpesa-code">M-Pesa Confirmation Code</label>
                    <input type="text" id="mpesa-code" class="form-control" placeholder="Enter code from SMS" required>
                    <small style="color: var(--gray); font-size: 12px;">Check your phone for the M-Pesa confirmation code</small>
                </div>
                
                <button class="btn btn-success btn-block" id="confirm-mpesa">Confirm Payment</button>
            </div>
            
            <!-- Card Payment Details -->
            <div class="payment-details" id="card-details">
                <div class="form-group">
                    <label for="card-number">Card Number</label>
                    <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" required>
                </div>
                
                <div style="display: flex; gap: 15px;">
                    <div style="flex: 1;">
                        <div class="form-group">
                            <label for="expiry-date">Expiry Date</label>
                            <input type="text" id="expiry-date" class="form-control" placeholder="MM/YY" required>
                        </div>
                    </div>
                    <div style="flex: 1;">
                        <div class="form-group">
                            <label for="cvc">CVC</label>
                            <input type="text" id="cvc" class="form-control" placeholder="123" required>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="card-name">Cardholder Name</label>
                    <input type="text" id="card-name" class="form-control" placeholder="John Doe" required>
                </div>
                
                <button class="btn btn-success btn-block" id="confirm-card">Pay Now</button>
            </div>
            
            <!-- PayPal Payment Details -->
            <div class="payment-details" id="paypal-details">
                <div class="form-group">
                    <label for="paypal-email">PayPal Email</label>
                    <input type="email" id="paypal-email" class="form-control" placeholder="your@email.com" required>
                </div>
                
                <button class="btn btn-success btn-block" id="confirm-paypal">Pay with PayPal</button>
            </div>
        </div>
    </div>
    
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Processing your payment...</div>
    </div>

    <!-- Header -->
    <header id="header" style="display: none;">
        <div class="container">
            <div class="navbar">
                <div class="logo">Poll<span>Pay</span></div>
                <ul class="nav-links">
                    <li><a href="#" class="nav-link" data-page="dashboard">Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-page="withdraw">Withdraw</a></li>
                    <li><a href="#" class="nav-link" data-page="profile">Profile</a></li>
                    <li><a href="#" class="nav-link" data-page="chat">Chat with Us</a></li>
                </ul>
                <div class="user-info">
                    <div class="balance">Ksh <span id="user-balance">0</span></div>
                    <div class="avatar" id="user-avatar">U</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <!-- Auth Page -->
            <div id="auth" class="page active">
                <div class="auth-container">
                    <div class="auth-tabs">
                        <div class="auth-tab active" data-tab="login">Login</div>
                        <div class="auth-tab" data-tab="register">Register</div>
                    </div>
                    
                    <form id="login-form" class="auth-form active">
                        <div class="form-group">
                            <label for="login-email">Email</label>
                            <input type="email" id="login-email" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" class="form-control" required>
                        </div>
                        
                        <button type="submit" class="btn btn-block">Login</button>
                    </form>
                    
                    <form id="register-form" class="auth-form">
                        <div class="form-group">
                            <label for="register-name">Full Name</label>
                            <input type="text" id="register-name" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-phone">Phone Number</label>
                            <input type="tel" id="register-phone" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-password">Password</label>
                            <input type="password" id="register-password" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-confirm-password">Confirm Password</label>
                            <input type="password" id="register-confirm-password" class="form-control" required>
                        </div>
                        
                        <button type="submit" class="btn btn-block">Register</button>
                    </form>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboard" class="page">
                <div class="page-header">
                    <h1 class="page-title">Available Surveys</h1>
                    <p class="page-subtitle">Complete surveys and earn money</p>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <h3>Available Balance</h3>
                        <div class="value">Ksh <span id="available-balance">0</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>Surveys Completed</h3>
                        <div class="value"><span id="completed-surveys">0</span>/<span id="max-surveys">3</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Earned</h3>
                        <div class="value">Ksh <span id="total-earned">0</span></div>
                    </div>
                </div>
                
                <div id="surveys-container" class="surveys-grid">
                    <!-- Surveys will be loaded here -->
                </div>
            </div>

            <!-- Survey Page -->
            <div id="survey" class="page">
                <div class="page-header">
                    <h1 class="page-title" id="survey-title">Survey Title</h1>
                    <p class="page-subtitle">Earn Ksh <span id="survey-reward">0</span> for completing this survey</p>
                </div>
                
                <div class="survey-container">
                    <div class="survey-progress">
                        <div class="survey-progress-bar" id="survey-progress"></div>
                    </div>
                    
                    <div id="survey-questions">
                        <!-- Questions will be loaded here -->
                    </div>
                    
                    <div class="survey-navigation">
                        <button class="btn" id="prev-btn" style="display: none;">Previous</button>
                        <button class="btn" id="next-btn">Next</button>
                    </div>
                </div>
            </div>

            <!-- Upgrade Page -->
            <div id="upgrade" class="page">
                <div class="page-header">
                    <h1 class="page-title">Upgrade Your Account</h1>
                    <p class="page-subtitle">Unlock more surveys and higher earnings</p>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <h3>Available Balance</h3>
                        <div class="value">Ksh <span id="upgrade-balance">0</span></div>
                    </div>
                </div>
                
                <div class="plans">
                    <div class="plan-card">
                        <h3 class="plan-name">Basic</h3>
                        <div class="plan-price">Ksh 150</div>
                        <ul class="plan-features">
                            <li>20 Surveys per day</li>
                            <li>Ksh 50-100 per survey</li>
                            <li>Basic support</li>
                            <li>Withdrawal in 3-5 days</li>
                        </ul>
                        <button class="btn btn-block" data-plan="basic">Select Plan</button>
                    </div>
                    
                    <div class="plan-card popular">
                        <h3 class="plan-name">Medium</h3>
                        <div class="plan-price">Ksh 300</div>
                        <ul class="plan-features">
                            <li>20 Surveys per day</li>
                            <li>Ksh 50-100 per survey</li>
                            <li>Priority support</li>
                            <li>Withdrawal in 2-3 days</li>
                        </ul>
                        <button class="btn btn-block" data-plan="medium">Select Plan</button>
                    </div>
                    
                    <div class="plan-card">
                        <h3 class="plan-name">Premium</h3>
                        <div class="plan-price">Ksh 700</div>
                        <ul class="plan-features">
                            <li>Unlimited Surveys</li>
                            <li>Ksh 50-100 per survey</li>
                            <li>24/7 Priority support</li>
                            <li>Withdrawal in 1-2 days</li>
                        </ul>
                        <button class="btn btn-block" data-plan="premium">Select Plan</button>
                    </div>
                    
                    <div class="plan-card">
                        <h3 class="plan-name">Ultimate</h3>
                        <div class="plan-price">Ksh 1500</div>
                        <ul class="plan-features">
                            <li>Unlimited Surveys</li>
                            <li>Ksh 50-100 per survey</li>
                            <li>VIP Support</li>
                            <li>Instant Withdrawal</li>
                        </ul>
                        <button class="btn btn-block" data-plan="ultimate">Select Plan</button>
                    </div>
                </div>
            </div>

            <!-- Withdraw Page -->
            <div id="withdraw" class="page">
                <div class="page-header">
                    <h1 class="page-title">Withdraw Your Earnings</h1>
                    <p class="page-subtitle">Cash out your hard-earned money</p>
                </div>
                
                <div class="withdraw-container">
                    <div class="withdraw-info">
                        <div class="withdraw-amount">Ksh <span id="withdraw-balance">0</span></div>
                        <div class="withdraw-minimum">Minimum withdrawal: Ksh 5,000</div>
                    </div>
                    
                    <div class="withdraw-methods">
                        <div class="method" data-method="mpesa">
                            <div class="method-icon">📱</div>
                            <div class="method-name">M-Pesa</div>
                        </div>
                        <div class="method" data-method="bank">
                            <div class="method-icon">🏦</div>
                            <div class="method-name">Bank Card</div>
                        </div>
                        <div class="method" data-method="paypal">
                            <div class="method-icon">💳</div>
                            <div class="method-name">PayPal</div>
                        </div>
                    </div>
                    
                    <form id="withdraw-form">
                        <div class="form-group">
                            <label for="withdraw-amount">Amount (Ksh)</label>
                            <input type="number" id="withdraw-amount" class="form-control" min="5000" step="100" placeholder="5000">
                        </div>
                        
                        <div class="form-group" id="mpesa-details" style="display: none;">
                            <label for="phone-number">M-Pesa Phone Number</label>
                            <input type="tel" id="phone-number" class="form-control" placeholder="07XX XXX XXX">
                        </div>
                        
                        <div class="form-group" id="bank-details" style="display: none;">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456">
                            
                            <div style="display: flex; gap: 15px;">
                                <div style="flex: 1;">
                                    <label for="expiry-date" style="margin-top: 15px;">Expiry Date</label>
                                    <input type="text" id="expiry-date" class="form-control" placeholder="MM/YY">
                                </div>
                                <div style="flex: 1;">
                                    <label for="cvc" style="margin-top: 15px;">CVC</label>
                                    <input type="text" id="cvc" class="form-control" placeholder="123">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group" id="paypal-details" style="display: none;">
                            <label for="paypal-email">PayPal Email</label>
                            <input type="email" id="paypal-email" class="form-control" placeholder="your@email.com">
                        </div>
                        
                        <button type="submit" class="btn btn-success btn-block" id="withdraw-btn">Withdraw Funds</button>
                    </form>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile" class="page">
                <div class="page-header">
                    <h1 class="page-title">Your Profile</h1>
                    <p class="page-subtitle">Manage your account information</p>
                </div>
                
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar" id="profile-avatar">U</div>
                        <div class="profile-info">
                            <h2 id="profile-name">User Name</h2>
                            <p id="profile-email">user@example.com</p>
                            <p id="profile-tier">Account Tier: <span>Free</span></p>
                        </div>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="value" id="profile-surveys">0</div>
                            <div class="label">Surveys Completed</div>
                        </div>
                        <div class="profile-stat">
                            <div class="value">Ksh <span id="profile-earnings">0</span></div>
                            <div class="label">Total Earnings</div>
                        </div>
                        <div class="profile-stat">
                            <div class="value" id="profile-joined">0</div>
                            <div class="label">Days Joined</div>
                        </div>
                    </div>
                    
                    <form id="profile-form">
                        <div class="form-group">
                            <label for="full-name">Full Name</label>
                            <input type="text" id="full-name" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" class="form-control" value="Nairobi, Kenya">
                        </div>
                        
                        <button type="submit" class="btn btn-block">Update Profile</button>
                    </form>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn btn-warning" id="logout-btn">Logout</button>
                    </div>
                </div>
            </div>

            <!-- Chat Page -->
            <div id="chat" class="page">
                <div class="page-header">
                    <h1 class="page-title">Chat with Us</h1>
                    <p class="page-subtitle">We're here to help 24/7</p>
                </div>
                
                <div class="chat-container">
                    <div class="chat-header">
                        <h3>Poll Pay Support</h3>
                    </div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <div class="message support">
                            <div class="message-content">
                                Hello! How can we help you today?
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <input type="text" id="chat-input" placeholder="Type your message here...">
                        <button class="btn" id="send-btn">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="footer" style="display: none;">
        <div class="container">
            <ul class="footer-links">
                <li><a href="#">About Us</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms of Service</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
            <div class="copyright">
                &copy; 2023 Poll Pay. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Service Worker Registration -->
    <script>
        // PWA Installation Logic
        let deferredPrompt;
        const installPrompt = document.getElementById('install-prompt');
        const installNowBtn = document.getElementById('install-now');
        const installLaterBtn = document.getElementById('install-later');
        const installAppBtn = document.getElementById('install-app-btn');

        // Listen for the beforeinstallprompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            // Show the install prompt
            installPrompt.classList.add('active');
            // Show the install app button
            installAppBtn.classList.add('active');
        });

        // Install button click handler
        installNowBtn.addEventListener('click', async () => {
            if (!deferredPrompt) return;
            
            // Show the install prompt
            deferredPrompt.prompt();
            
            // Wait for the user to respond to the prompt
            const { outcome } = await deferredPrompt.userChoice;
            
            // We've used the prompt, and can't use it again, throw it away
            deferredPrompt = null;
            
            // Hide the install prompt
            installPrompt.classList.remove('active');
            
            // Hide the install app button
            installAppBtn.classList.remove('active');
            
            if (outcome === 'accepted') {
                console.log('User accepted the install prompt');
            } else {
                console.log('User dismissed the install prompt');
            }
        });

        // Install later button handler
        installLaterBtn.addEventListener('click', () => {
            installPrompt.classList.remove('active');
        });

        // Install app button handler
        installAppBtn.addEventListener('click', () => {
            installPrompt.classList.add('active');
        });

        // Listen for app installed event
        window.addEventListener('appinstalled', () => {
            // Hide the install prompt and button
            installPrompt.classList.remove('active');
            installAppBtn.classList.remove('active');
            // Clear the deferredPrompt so it can be garbage collected
            deferredPrompt = null;
            console.log('PWA was installed');
        });

        // Register service worker for offline functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Your existing JavaScript code continues here...
        // User data
        let userData = {
            name: "",
            email: "",
            phone: "",
            balance: 0,
            completedSurveys: 0,
            totalEarned: 0,
            accountTier: "free",
            joinDate: new Date(),
            surveysCompletedToday: 0,
            lastSurveyDate: null
        };

        // Selected plan for payment
        let selectedPlan = null;
        let selectedPaymentMethod = null;

        // Surveys data
        const surveys = [
            {
                id: 1,
                title: "Consumer Preferences Survey",
                description: "Share your opinions on various consumer products and help brands improve.",
                reward: 0, // Will be calculated
                questions: [
                    {
                        text: "How often do you shop online?",
                        options: ["Daily", "Weekly", "Monthly", "Rarely", "Never"]
                    },
                    {
                        text: "Which of these factors is most important when making a purchase?",
                        options: ["Price", "Quality", "Brand", "Convenience", "Reviews"]
                    },
                    {
                        text: "What type of products do you buy most frequently?",
                        options: ["Electronics", "Clothing", "Food & Groceries", "Home & Garden", "Beauty & Personal Care"]
                    }
                ]
            },
            // ... rest of your existing surveys data
        ];

        // Current survey data
        let currentSurvey = null;
        let currentQuestionIndex = 0;
        let surveyAnswers = [];

        // Payment notifications
        const paymentNotifications = [
            "John K. just earned Ksh 75 from a survey!",
            "Mary W. upgraded to Premium and earned Ksh 95!",
            "David M. withdrew Ksh 5,200 to his M-Pesa!",
            "Sarah J. completed 5 surveys today!",
            "Michael T. just earned Ksh 85 from our app!",
            "Grace L. upgraded to Ultimate package!",
            "Peter N. earned Ksh 65 from a quick survey!",
            "Lucy W. just cashed out Ksh 7,500!",
            "James K. completed his 10th survey today!",
            "Alice M. earned Ksh 90 from a consumer survey!"
        ];

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const savedUserData = localStorage.getItem('pollPayUserData');
            if (savedUserData) {
                userData = JSON.parse(savedUserData);
                
                // Check if it's a new day to reset daily survey count
                const today = new Date().toDateString();
                if (userData.lastSurveyDate !== today) {
                    userData.surveysCompletedToday = 0;
                    userData.lastSurveyDate = today;
                    localStorage.setItem('pollPayUserData', JSON.stringify(userData));
                }
                
                showMainApp();
            } else {
                showAuthPage();
            }
            
            // Generate random rewards for surveys
            generateSurveyRewards();
            
            // Set up event listeners
            setupEventListeners();
            
            // Start payment notifications
            startPaymentNotifications();
        });

        // ... rest of your existing JavaScript functions ...

    </script>
</body>
</html>